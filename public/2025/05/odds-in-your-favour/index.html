<!DOCTYPE html>
<html><head lang="en"><script src="/themedianduck/livereload.js?mindelay=10&amp;v=2&amp;port=4321&amp;path=themedianduck/livereload" data-no-instant defer></script>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>May the Odds Be In Your Favour - The Median Duck</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Hello
Wow I have forgot how to do this.121
Why aren’t your working
## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──## ✔ dplyr 1.1.4 ✔ readr 2.1.5## ✔ forcats 1.0.0 ✔ stringr 1.5.1## ✔ ggplot2 3.5.1 ✔ tibble 3.2.1## ✔ lubridate 1.9.3 ✔ tidyr 1.3.1## ✔ purrr 1.0.2 ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──## ✖ dplyr::filter() masks stats::filter()## ✖ dplyr::lag() masks stats::lag()## ℹ Use the conflicted package (&lt;http://conflicted." />
	<meta property="og:image" content=""/>
	<meta property="og:url" content="http://localhost:4321/themedianduck/2025/05/odds-in-your-favour/">
  <meta property="og:site_name" content="The Median Duck">
  <meta property="og:title" content="May the Odds Be In Your Favour">
  <meta property="og:description" content="Hello
Wow I have forgot how to do this.121
Why aren’t your working
## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──## ✔ dplyr 1.1.4 ✔ readr 2.1.5## ✔ forcats 1.0.0 ✔ stringr 1.5.1## ✔ ggplot2 3.5.1 ✔ tibble 3.2.1## ✔ lubridate 1.9.3 ✔ tidyr 1.3.1## ✔ purrr 1.0.2 ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──## ✖ dplyr::filter() masks stats::filter()## ✖ dplyr::lag() masks stats::lag()## ℹ Use the conflicted package (&lt;http://conflicted.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-05-17T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-05-17T00:00:00+00:00">
    <meta property="article:tag" content="Series_19">
    <meta property="article:tag" content="Simulation">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="May the Odds Be In Your Favour">
  <meta name="twitter:description" content="Hello
Wow I have forgot how to do this.121
Why aren’t your working
## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──## ✔ dplyr 1.1.4 ✔ readr 2.1.5## ✔ forcats 1.0.0 ✔ stringr 1.5.1## ✔ ggplot2 3.5.1 ✔ tibble 3.2.1## ✔ lubridate 1.9.3 ✔ tidyr 1.3.1## ✔ purrr 1.0.2 ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──## ✖ dplyr::filter() masks stats::filter()## ✖ dplyr::lag() masks stats::lag()## ℹ Use the conflicted package (&lt;http://conflicted.">
<script src="http://localhost:4321/themedianduck/js/feather.min.js"></script>
	
	
        <link href="http://localhost:4321/themedianduck/css/fonts.005298b624c67c53a2c807c4aca45625ce1e4db593dc295c06773b1563c3437c.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="http://localhost:4321/themedianduck/css/main.d8f988594eb5487598b149bffd5641c986bb3e7ea4372ac8be55ff6cad157011.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="http://localhost:4321/themedianduck/css/dark.9bca7b70337ef889bc346f0587e01b6ab1747aa3a79f8a5fe0d9d32e1378068b.css"  disabled />
	

	
	

	
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="http://localhost:4321/themedianduck/">The Median Duck</a>
	</div>
	<div class="navbar">
		
		<a href="/themedianduck/">Home</a>
		
		<a href="/themedianduck/vision">The Vision</a>
		
		<a href="/themedianduck/posts">Posts</a>
		
		<a href="/themedianduck/tasks">Tasks</a>
		
		<a href="/themedianduck/about">About Me</a>
		
		<a href="/themedianduck/resources">Resources</a>
		
		<span id="dark-mode-toggle" onclick="toggleTheme()" style="padding:1%;position:relative;height:90%;" /span>
		<script src="http://localhost:4321/themedianduck/js/themetoggle.js"></script>
		
	</div>
</header>

<em><p>vires in notitia</p></em>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-61T5JLRMP0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-61T5JLRMP0');
</script>


<link rel="shortcut icon" type="image/x-icon" href="img/favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
<link rel="manifest" href="img/favicon/site.webmanifest">
<main>
	<article>
		<div class="title">
			<h1 class="title">May the Odds Be In Your Favour</h1>
			<div class="meta">Posted on May 17, 2025</div>
		</div>
		
		
	    <div class="toc">
	        
		</div>  
		    
		<section class="body">
			


<p>Hello</p>
<p>Wow I have forgot how to do this.121</p>
<p>Why aren’t your working</p>
<pre><code>## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.4     ✔ readr     2.1.5
## ✔ forcats   1.0.0     ✔ stringr   1.5.1
## ✔ ggplot2   3.5.1     ✔ tibble    3.2.1
## ✔ lubridate 1.9.3     ✔ tidyr     1.3.1
## ✔ purrr     1.0.2     
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<pre><code>## ! Using an auto-discovered, cached token.</code></pre>
<pre><code>##   To suppress this message, modify your code or options to clearly consent to
##   the use of a cached token.</code></pre>
<pre><code>##   See gargle&#39;s &quot;Non-interactive auth&quot; vignette for more details:</code></pre>
<pre><code>##   &lt;https://gargle.r-lib.org/articles/non-interactive-auth.html&gt;</code></pre>
<pre><code>## ℹ The googlesheets4 package is using a cached token for
##   &#39;themedianduck@gmail.com&#39;.</code></pre>
<pre><code>## Auto-refreshing stale OAuth token.</code></pre>
<pre><code>## ✔ Reading from &quot;Series 19 Tracker&quot;.</code></pre>
<pre><code>## ✔ Range &#39;&#39;Attempts-Tasks&#39;&#39;.</code></pre>
<pre><code>## ✔ Reading from &quot;Series 19 Tracker&quot;.</code></pre>
<pre><code>## ✔ Range &#39;&#39;Contestants&#39;&#39;.</code></pre>
<pre class="r"><code>head(task_attempt_df)</code></pre>
<pre><code>## # A tibble: 6 × 7
##   `Series ID` `Episode ID` `Task ID` Task          `Task Type` Contestant Points
##         &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;
## 1          19            1         1 The object t… Prize       Fatiha El…      1
## 2          19            1         1 The object t… Prize       Jason Man…      5
## 3          19            1         1 The object t… Prize       Mathew Ba…      4
## 4          19            1         1 The object t… Prize       Rosie Ram…      3
## 5          19            1         1 The object t… Prize       Stevie Ma…      2
## 6          19            1         2 Pour all the… Pre-Record  Fatiha El…      4</code></pre>
<pre class="r"><code>num_sim &lt;- 1000 #Number of simulations to perform.

series_length &lt;- 10 #Number of episodes in a series

#Per Episode
num_prize_tasks &lt;- 1 
num_prerecorded_tasks &lt;- 3
num_live_tasks &lt;- 1

num_broadcasted_eps &lt;- length(unique(task_attempt_df$`Episode ID`))
latest_ep_broadcasted &lt;- max(task_attempt_df$`Episode ID`)
contestant_list &lt;- unique(contestants_df$`Contestant Name`)
initials_list &lt;- unique(contestants_df $`Initials`)
task_type_list &lt;- unique(task_attempt_df$`Task Type`)</code></pre>
<pre class="r"><code>initials_list</code></pre>
<pre><code>## [1] &quot;FEG&quot; &quot;JM&quot;  &quot;MB&quot;  &quot;RR&quot;  &quot;SM&quot;</code></pre>
<pre class="r"><code># To simulate one episode</code></pre>
<pre class="r"><code>contestant_iter &lt;- contestant_list[1]
single_sample &lt;- 1 

episode_sample_df &lt;- NULL

for(sample_iter in 1:num_sim){

for(contestant_iter in contestant_list){

    contestant_attempt_df &lt;- task_attempt_df %&gt;% dplyr::filter(Contestant == contestant_iter)
    
    # Prize Task Sampling
    contestant_prize_samples_df &lt;- contestant_attempt_df %&gt;% dplyr::filter(`Task Type` == &quot;Prize&quot; ) %&gt;% slice_sample(n = single_sample * num_prize_tasks, replace = TRUE)
    
    # Live Task Sampling
    contestant_prerecord_samples_df &lt;- contestant_attempt_df %&gt;% dplyr::filter(`Task Type` == &quot;Pre-Record&quot; ) %&gt;% slice_sample(n = single_sample * num_prerecorded_tasks, replace = TRUE)
    contestant_prerecord_samples_df$`Task ID` &lt;- rep(2:4, each = single_sample) 
    
    # Live Task Sampling
    contestant_live_samples_df &lt;- contestant_attempt_df %&gt;% dplyr::filter(`Task Type` == &quot;Live&quot; ) %&gt;% slice_sample(n = single_sample * num_live_tasks, replace = TRUE)
    
    contestant_episode_sample &lt;- rbind(contestant_prize_samples_df, contestant_prerecord_samples_df, contestant_live_samples_df)
    
    contestant_episode_sample$`Episode ID` &lt;- paste0(&quot;Sim &quot;, sample_iter)
    
    episode_sample_df &lt;- rbind(episode_sample_df, contestant_episode_sample)
}
}
episode_sample_df</code></pre>
<pre><code>## # A tibble: 25,000 × 7
##    `Series ID` `Episode ID` `Task ID` Task         `Task Type` Contestant Points
##          &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;
##  1          19 Sim 1                1 The snootie… Prize       Fatiha El…      1
##  2          19 Sim 1                2 Answer the … Pre-Record  Fatiha El…      3
##  3          19 Sim 1                3 Win the Pea… Pre-Record  Fatiha El…      3
##  4          19 Sim 1                4 Give Alex e… Pre-Record  Fatiha El…      5
##  5          19 Sim 1                5 Obey Greg’s… Live        Fatiha El…      1
##  6          19 Sim 1                1 The object … Prize       Jason Man…      5
##  7          19 Sim 1                2 Achieve a r… Pre-Record  Jason Man…      1
##  8          19 Sim 1                3 Win the Pea… Pre-Record  Jason Man…      5
##  9          19 Sim 1                4 Do somethin… Pre-Record  Jason Man…      3
## 10          19 Sim 1                5 Put one ite… Live        Jason Man…      3
## # ℹ 24,990 more rows</code></pre>
<pre class="r"><code># Re rank points so that they are from 1-5
episode_sample_df  %&gt;% mutate (`Observed Points Sample` = Points) %&gt;%
    group_by(`Episode ID`, `Task ID`, `Task Type`) %&gt;%
    mutate(Points = rank(`Observed Points Sample`, ties.method = &quot;min&quot;)) %&gt;%
    arrange(`Episode ID`, `Task ID`, `Contestant`)</code></pre>
<pre><code>## # A tibble: 25,000 × 8
## # Groups:   Episode ID, Task ID, Task Type [5,000]
##    `Series ID` `Episode ID` `Task ID` Task         `Task Type` Contestant Points
##          &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;       &lt;int&gt;
##  1          19 Sim 1                1 The snootie… Prize       Fatiha El…      1
##  2          19 Sim 1                1 The object … Prize       Jason Man…      5
##  3          19 Sim 1                1 The best th… Prize       Mathew Ba…      4
##  4          19 Sim 1                1 The snootie… Prize       Rosie Ram…      2
##  5          19 Sim 1                1 The object … Prize       Stevie Ma…      2
##  6          19 Sim 1                2 Answer the … Pre-Record  Fatiha El…      4
##  7          19 Sim 1                2 Achieve a r… Pre-Record  Jason Man…      1
##  8          19 Sim 1                2 Paint a pic… Pre-Record  Mathew Ba…      5
##  9          19 Sim 1                2 Do somethin… Pre-Record  Rosie Ram…      3
## 10          19 Sim 1                2 Give Alex e… Pre-Record  Stevie Ma…      1
## # ℹ 24,990 more rows
## # ℹ 1 more variable: `Observed Points Sample` &lt;dbl&gt;</code></pre>
<pre class="r"><code>#Episode summary for each contestant (summed over tasks), and ranked within that episode. 
episode_summary_df &lt;- episode_sample_df %&gt;% group_by(`Series ID`, `Episode ID`, `Contestant`) %&gt;%
    summarise(`Episode Points` = sum(Points)) %&gt;%
    mutate(`Episode Rank` = rank(-`Episode Points`, ties.method = &quot;min&quot;))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;Series ID&#39;, &#39;Episode ID&#39;. You can override
## using the `.groups` argument.</code></pre>
<pre class="r"><code>ggplot(episode_summary_df, aes(x= `Episode Rank`)) +
    geom_bar() + 
    facet_grid(Contestant~.)</code></pre>
<p><img src="/themedianduck/2025/05/odds-in-your-favour/index_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>task_attempt_df %&gt;% group_by(&quot;Contestant&quot;, &quot;Task Type&quot;) %&gt;% dplyr::filter(`Task Type` == &quot;Prize&quot; ) %&gt;% slice_sample(n = 50, replace = TRUE)</code></pre>
<pre><code>## # A tibble: 50 × 9
## # Groups:   &quot;Contestant&quot;, &quot;Task Type&quot; [1]
##    `Series ID` `Episode ID` `Task ID` Task         `Task Type` Contestant Points
##          &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;       &lt;dbl&gt;
##  1          19            3         1 The best th… Prize       Mathew Ba…      3
##  2          19            2         1 The snootie… Prize       Fatiha El…      1
##  3          19            1         1 The object … Prize       Fatiha El…      1
##  4          19            2         1 The snootie… Prize       Fatiha El…      1
##  5          19            1         1 The object … Prize       Fatiha El…      1
##  6          19            1         1 The object … Prize       Fatiha El…      1
##  7          19            2         1 The snootie… Prize       Stevie Ma…      4
##  8          19            1         1 The object … Prize       Jason Man…      5
##  9          19            1         1 The object … Prize       Stevie Ma…      2
## 10          19            2         1 The snootie… Prize       Stevie Ma…      4
## # ℹ 40 more rows
## # ℹ 2 more variables: `&quot;Contestant&quot;` &lt;chr&gt;, `&quot;Task Type&quot;` &lt;chr&gt;</code></pre>

		</section>
		
  

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
				    Tags: 
					
					<a href="/tags/series_19">series_19</a> 
					
					<a href="/tags/simulation">simulation</a> 
					
				</ul>
			</nav>
			
			
		</div>
		</article>
</main>
<footer>

  <div style="display:flex"><a class="soc" href="https://github.com/bluevolvo87/themedianduck" rel="me" title="GitHub"><i data-feather="github"></i></a>
    <a class="border"></a><a class="soc" href="https://youtube.com/naanbread87/" rel="me" title="YouTube Channel"><i data-feather="tv"></i></a>
    <a class="border"></a><a class="soc" href="https://buymeacoffee.com/bluevolvo87" rel="me" title="BuyMeACoffee"><i data-feather="coffee"></i></a>
    <a class="border"></a><a class="soc" href="https://www.youtube.com/playlist?list=PL8smthAx7GcfC-gZv6zGNoORClnEXq-ru" rel="me" title="Piano"><i data-feather="music"></i></a>
    <a class="border"></a><a class="soc" href="https://www.youtube.com/playlist?list=PL8smthAx7GcdBfg9C_TRtPC_8m99ho6Ou" rel="me" title="Taskmaster Silliness"><i data-feather="smile"></i></a>
    <a class="border"></a></div>
  <div class="footer-info">
    2025  © Christopher Nam |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>

</footer>
<script>
  feather.replace()
</script>
<script src="/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>

</div>
    </body>
</html>
